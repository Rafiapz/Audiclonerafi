/*! For license information please see model-band.legacy.js.LICENSE.txt */
/* nemo-home v125.0.0 */
window["model-band.legacy"]=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=54)}([function(e,t,n){var r=n(55),o=n(56),i=n(57),a=n(58);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=window["core-utils"]},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(14),o=n(36);e.exports=n(5)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(8),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(38)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(3),o=n(34),i=n(35),a=Object.defineProperty;t.f=n(5)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(4),o=n(1).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(1),o=n(10),i=n(17),a=n(11)("src"),s=n(37),l=(""+s).split("toString");n(8).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(44),o=n(20);e.exports=function(e){return r(o(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(12)("keys"),o=n(11);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(12)("wks"),o=n(11),i=n(1).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(30);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(31).default,o=n(32);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(1),o=n(8),i=n(10),a=n(16),s=n(39),l=function(e,t,n){var c,u,f,p,d=e&l.F,h=e&l.G,m=e&l.S,v=e&l.P,y=e&l.B,_=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,g=h?o:o[t]||(o[t]={}),x=g.prototype||(g.prototype={});for(c in h&&(n=t),n)f=((u=!d&&_&&void 0!==_[c])?_:n)[c],p=y&&u?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,_&&a(_,c,f,e&l.U),g[c]!=f&&i(g,c,p),v&&x[c]!=f&&(x[c]=f)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(13),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(28),o=n(40),i=n(7),a=n(3),s=n(4),l=n(6),c=n(48),u=(n(1).Reflect||{}).construct,f=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),p=!l((function(){u((function(){}))}));r(r.S+r.F*(f||p),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!f)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=n.prototype,d=o(s(l)?l:Object.prototype),h=Function.apply.call(e,d,t);return s(h)?h:d}})},function(e,t,n){e.exports=!n(5)&&!n(6)((function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(12)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(7);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(3),o=n(41),i=n(22),a=n(21)("IE_PROTO"),s=function(){},l=function(){var e,t=n(15)("iframe"),r=i.length;for(t.style.display="none",n(47).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(14),o=n(3),i=n(42);e.exports=n(5)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(43),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(17),o=n(18),i=n(45)(!1),a=n(21)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(19);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(18),o=n(29),i=n(46);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=o(l.length),u=i(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(13),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(7),o=n(4),i=n(49),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?l(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r,o,i=n(66),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,n,r,o,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",i.call(l))),c&&(t=l.lastIndex),r=a.call(l,e),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=l},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(19),o=n(23)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var r=n(0),o=n.n(r),i=n(24),a=n.n(i),s=n(25),l=n.n(s),c=n(26),u=n.n(c),f=n(27),p=n.n(f),d=n(9),h=n.n(d),m=(n(59),n(60),n(33),n(2));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}function y(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(y.prototype,HTMLElement.prototype),Object.setPrototypeOf(y,HTMLElement);var _=function(e){u()(n,e);var t=v(n);function n(){return a()(this,n),t.call(this)}return l()(n,[{key:"connectedCallback",value:function(){this._initializeModule()}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",m.dom.throttle(this._resizeModule.bind(this),50)),window.removeEventListener("scroll",m.dom.throttle(this._scrollHandler.bind(this),100))}},{key:"_initializeModule",value:function(){this._oDefaults={selectorContainerWrap:".nm-model-band-container",selectorContainerItem:".nm-model-band-container-item",selectorEecContainer:".nm-model-band-eec-explanation",selectorStripeContainer:".nm-model-band-stripe-container",selectorStripe:".nm-model-band-stripe",selectorStripeItem:".nm-model-band-stripe-item",classContainerIsOpen:"nm-j-model-band-container-is-open",classContainerSticky:"nm-j-model-band-container-sticky",classContainerItemVisible:"nm-model-band-container-item-visible",classHidePrevArrow:"nm-j-model-band-hide-prev-arrow",classHideNextArrow:"nm-j-model-band-hide-next-arrow"},this._scrollDuration=500,this.stripes=this.querySelectorAll(this._oDefaults.selectorStripe),this.stripeItems=this.querySelectorAll(this._oDefaults.selectorStripeItem),this.navigationItems=this.querySelectorAll(".nm-model-band-tab-navigation li"),this.prevButtons=this.querySelectorAll(".nm-model-band-stripe-prev"),this.nextButtons=this.querySelectorAll(".nm-model-band-stripe-next"),this.defaultInputs=this.querySelectorAll(".nm-model-band-default-input"),this._reset(),this._addEvents(),this._resizeModule(),this._setContainerItemHeight(),this._handleNavigationArrows(),this._addAriaTags()}},{key:"_reset",value:function(){this._resetInputs(),this._resetItems()}},{key:"_resetInputs",value:function(){var e=this.querySelectorAll(".nm-model-band-input");o()(e).forEach((function(e){e.checked=!1})),o()(this.defaultInputs).forEach((function(e){e.checked=!0}))}},{key:"_resetItems",value:function(){var e=this,t=this.querySelector(this._oDefaults.selectorContainerWrap),n=this.querySelectorAll(this._oDefaults.selectorContainerItem);t.classList.remove(this._oDefaults.classContainerIsOpen),t.style.height="0px",o()(n).forEach((function(t){t.style.height="0px",t.classList.remove(e._oDefaults.classContainerItemVisible)}))}},{key:"_addEvents",value:function(){var e=this;window.addEventListener("resize",m.dom.throttle(this._resizeModule.bind(this),50)),window.addEventListener("scroll",m.dom.throttle(this._scrollHandler.bind(this),100)),o()(this.stripes).forEach((function(t){t.addEventListener("scroll",e._handleNavigationArrows.bind(e))})),o()(this.navigationItems).forEach((function(t){t.addEventListener("click",e._handleNavItemClick.bind(e))})),o()(this.stripeItems).forEach((function(t){t.addEventListener("click",e._handleStripeItemClick.bind(t,e))})),o()(this.defaultInputs).forEach((function(t){t.addEventListener("click",e._resetItems.bind(e))})),o()(this.prevButtons).forEach((function(t){t.addEventListener("click",e._handlePrevNextClick.bind(t,e))})),o()(this.nextButtons).forEach((function(t){t.addEventListener("click",e._handlePrevNextClick.bind(t,e))}))}},{key:"_resizeModule",value:function(){var e=this.querySelector(this._oDefaults.selectorStripeContainer),t=this._getVisibleStripe();e.classList.remove("nm-model-band-stripe-container-hidden"),t&&(this._setContainerItemHeight(),this._handleNavigationArrows())}},{key:"_setContainerItemHeight",value:function(){var e=this,t=this.querySelectorAll(".nm-model-band-container-models "+this._oDefaults.selectorContainerItem),n=this.querySelectorAll(".nm-model-band-stripe-models-wrap "+this._oDefaults.selectorStripeItem),r=this.querySelectorAll(".nm-model-band-container-types "+this._oDefaults.selectorContainerItem),i=this.querySelectorAll(".nm-model-band-stripe-types-wrap "+this._oDefaults.selectorStripeItem);o()(t).forEach((function(t,r){var o=e._getItemHeight(t);n[r].setAttribute("data-height",o),t.setAttribute("data-height",o)})),o()(r).forEach((function(t,n){var r=e._getItemHeight(t);i[n].setAttribute("data-height",r),t.setAttribute("data-height",r)}))}},{key:"_handleNavigationArrows",value:function(){var e=this,t=this.stripes;o()(t).forEach((function(t){var n=m.dom.closest(t,".nm-model-band-stripe-wrap"),r=t.querySelector("ul").getBoundingClientRect().width-t.getBoundingClientRect().width;t.scrollLeft<=10?(n.classList.add(e._oDefaults.classHidePrevArrow),n.classList.remove(e._oDefaults.classHideNextArrow)):t.scrollLeft<r-10?(n.classList.remove(e._oDefaults.classHideNextArrow),n.classList.remove(e._oDefaults.classHidePrevArrow)):(n.classList.add(e._oDefaults.classHideNextArrow),n.classList.remove(e._oDefaults.classHidePrevArrow))}))}},{key:"_addAriaTags",value:function(){this.stripes.forEach((function(e){return e.setAttribute("aria-expanded",!1)})),this._getVisibleStripe()&&this._getVisibleStripe().setAttribute("aria-expanded",!0),this.navigationItems.forEach((function(e){e.setAttribute("aria-selected",!1);var t=e.querySelector("label"),n=t.getAttribute("for");document.querySelector("#".concat(n)).checked&&t.parentElement.setAttribute("aria-selected",!0)}))}},{key:"_scrollHandler",value:function(){var e=this.querySelector(this._oDefaults.selectorContainerWrap),t=m.dom.getElementsAbsoluteTopPosition(e),n=e.querySelector(this._oDefaults.selectorEecContainer),r=n?n.scrollHeight:0,o=this.querySelector("."+this._oDefaults.classContainerItemVisible),i=0;if(o){i=o.querySelector(".nm-model-band-container-headline").scrollHeight;var a=t+e.clientHeight-r-i;e.classList.contains(this._oDefaults.classContainerIsOpen)&&window.pageYOffset>t&&window.pageYOffset<a?(e.classList.add(this._oDefaults.classContainerSticky),o.style.paddingTop=i+"px"):(e.classList.remove(this._oDefaults.classContainerSticky),o.style.paddingTop="0px")}}},{key:"_handleNavItemClick",value:function(){this._getVisibleStripe().scrollLeft=0,this._reset();var e=this;setTimeout((function(){e._setContainerItemHeight(),e._handleNavigationArrows(),e._addAriaTags()}),100)}},{key:"_showOrHideStripeItems",value:function(e,t,n,r){e.forEach((function(e){e.closest(".nm-model-band-stripe-item").classList.contains("nm-model-band-stripe-".concat(t,"-item").concat(n))?e.style.display=r?"none":"block":e.style.display=r?"block":"none"}))}},{key:"_updateActiveCarView",value:function(e,t,n){var r=this;if(e&&void 0===t.dataset.loadingImage){var o=t.querySelector(".nm-model-band-stripe-img-active"),i=e.querySelectorAll(".nm-model-band-stripe-img"),a=e.querySelectorAll(".nm-model-band-stripe-img-active"),s=e.dataset.id,l=t.dataset.index;if(o){var c=e.querySelector("input.nm-model-band-".concat(n,"-input.nm-model-band-").concat(s,"-").concat(n,"-").concat(l));c&&c.checked?(t.dataset.loadingImage="1",o.addEventListener("load",(function(){delete t.dataset.loadingImage,r._showOrHideStripeItems(i,n,l,!0),r._showOrHideStripeItems(a,n,l,!1)}),{once:!0}),o.setAttribute("src",o.getAttribute("data-src")),o.setAttribute("loading","eager")):(a.forEach((function(e){e.style.display="none"})),i.forEach((function(e){e.style.display="block"})))}}}},{key:"_handleStripeItemClick",value:function(e){var t=this,n=e._getCurrentInputType(t);setTimeout((function(){e._updateActiveCarView(e,t,n)}),0),setTimeout((function(){if(e.querySelector(".nm-model-band-"+n+"-input:checked"))e._loadDynamicModelData(e,t,n).then((function(n){e._replaceDynamicContent(e,t,n)})).catch((function(e){console.error("Error while reading layer template",e)}));else{var r=e.querySelector(e._oDefaults.selectorContainerWrap),o=r.querySelectorAll(".nm-model-band-container > ul")[e._getVisibleStripeIndex()].querySelectorAll(e._oDefaults.selectorContainerItem);e._resetContainerHeight(e,r,o)}}),0)}},{key:"_replaceDynamicContent",value:function(e,t,n){var r=e,o=r._getCurrentInputType(t),i=r.querySelector(r._oDefaults.selectorContainerWrap),a=i.querySelectorAll(".nm-model-band-container > ul")[r._getVisibleStripeIndex()].querySelectorAll(e._oDefaults.selectorContainerItem),s=e.querySelector(".nm-model-band-"+o+"-input:checked"),l=parseInt(s.dataset.index,10),c=i.querySelector("ul.nm-model-band-container-".concat(o));c&&(r._resetContainerHeight(e,i,a),c.innerHTML=n,r._fixCloseButton(e,i,t),r._fixHeight(e,i,t,l))}},{key:"_fixHeight",value:function(e,t,n,r){var o=e,i=o._getCurrentInputType(n),a=t.querySelector("ul.nm-model-band-container-".concat(i));t.classList.add(e._oDefaults.classContainerIsOpen);var s=a.querySelector(".nm-model-band-container-item");o._setCurrentContainerItemHeight(s);var l=o._getItemHeight(s);t.style.height=l+"px",o._handleStripeAnimation(n,r),m.dom.scrollTo(m.dom.getElementsAbsoluteTopPosition(e),200)}},{key:"_fixCloseButton",value:function(e,t,n){var r=e,o=r._getCurrentInputType(n),i=t.querySelector("ul.nm-model-band-container-".concat(o)).querySelector(".nm-model-band-container-close-button"),a=e.querySelector(".nm-model-band-default-input.nm-model-band-".concat(o,"-default"));i&&a&&(i.setAttribute("for",a.id),i.addEventListener("click",(function(){setTimeout((function(){r._updateActiveCarView(e,n,o)}),0)})))}},{key:"_resetContainerHeight",value:function(e,t,n){t.classList.contains(e._oDefaults.classContainerIsOpen)&&o()(n).forEach((function(t){t.style.height=0,t.classList.remove(e._oDefaults.classContainerItemVisible)}))}},{key:"_loadDynamicModelData",value:function(e,t,n){return new Promise((function(r,o){var i=window.location.pathname.lastIndexOf("."),a=window.location.pathname.substring(0,i),s=t.dataset.category,l=e.dataset.resourcepath,c=a+".model_band_dynamic."+("models"===n?"carlinegroup":"bodytype")+"."+s+".html?resourcePath="+encodeURIComponent(l);fetch(c,{headers:{Accept:"text/plain"},method:"GET"}).then((function(e){if(e.ok)return e.text();throw new Error(e.error)})).then((function(e){r(e)})).catch((function(e){console.error("Error while loading dynamic model band data",e),o(e)}))}))}},{key:"_handleStripeAnimation",value:function(e,t){var n=m.dom.closest(e,this._oDefaults.selectorStripe),r=m.dom.closest(e,this._oDefaults.selectorStripeContainer).clientWidth,o=e.clientWidth,i=t*o-r/2+o/2,a=this._calculateScrollDuration(r,n.scrollLeft,i);m.dom.animateElementX(i,n,a)}},{key:"_setCurrentContainerItemHeight",value:function(e){e.style.height="auto",e.classList.add(this._oDefaults.classContainerItemVisible)}},{key:"_handlePrevNextClick",value:function(e){var t="next";this.classList.contains("nm-model-band-stripe-prev")&&(t="prev"),e._translateStripe(e,t)}},{key:"_translateStripe",value:function(e,t){var n=e.querySelector(e._oDefaults.selectorStripeContainer),r=e._getVisibleStripe();if(r.querySelector(".nm-model-band-stripe > ul").clientWidth>n.clientWidth){var o=e._calculateNewScrollPosition(n.clientWidth,r.scrollLeft,t,r),i=e._calculateScrollDuration(n.clientWidth,r.scrollLeft,o);m.dom.animateElementX(o,r,i)}}},{key:"_calculateScrollDuration",value:function(e,t,n){return this._scrollDuration*(Math.abs(t-n)/e)}},{key:"_calculateNewScrollPosition",value:function(e,t,n,r){var o,i,a=this._getVisibleItems(r);return"next"===n?(i=this._getNewIndex(a[a.length-1]),o=this._getItemWidth(a[a.length-1])*i):o=t-(e-this._getRightBound(a[0])),o}},{key:"_getItemHeight",value:function(e){var t=this.querySelector(this._oDefaults.selectorEecContainer),n=t?t.scrollHeight:0;return e.querySelector(".nm-model-band-container-item-inner").scrollHeight+n}},{key:"_getVisibleStripe",value:function(){var e=this.querySelectorAll(this._oDefaults.selectorStripe),t=null;return o()(e).forEach((function(e){"block"===window.getComputedStyle(e.parentNode,null).getPropertyValue("display")&&(t=e)})),t}},{key:"_getVisibleStripeIndex",value:function(){var e=this.querySelectorAll(this._oDefaults.selectorStripe),t=null;return o()(e).forEach((function(e,n){"block"===window.getComputedStyle(e.parentNode,null).getPropertyValue("display")&&(t=n)})),t}},{key:"_getCurrentInputType",value:function(e){var t=e.parentNode.classList[0].split("-");return t[t.length-1]}},{key:"_getVisibleItems",value:function(e){var t=e.querySelectorAll(this._oDefaults.selectorStripeItem),n=[];return o()(t).forEach((function(t){m.dom.isVisible(t,e,!1)&&n.push(t)})),n}},{key:"_getNewIndex",value:function(e){return e.getAttribute("data-index")||0}},{key:"_getItemWidth",value:function(e){return e.clientWidth||0}},{key:"_getRightBound",value:function(e){return e.getBoundingClientRect().right||0}}]),n}(y);void 0===window.customElements.get("audi-model-band")&&window.customElements.define("audi-model-band",_)},function(e,t,n){var r=n(51);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(51);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(52),o={};o[n(23)("toStringTag")]="z",o+""!="[object z]"&&n(16)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){"use strict";var r=n(61),o=n(3),i=n(62),a=n(63),s=n(29),l=n(65),c=n(50),u=n(6),f=Math.min,p=[].push,d="length",h=!u((function(){RegExp(4294967295,"y")}));n(67)("split",2,(function(e,t,n,u){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,u+"g");(i=c.call(m,o))&&!((a=m.lastIndex)>f&&(l.push(o.slice(f,i.index)),i[d]>1&&i.index<o[d]&&p.apply(l,i.slice(1)),s=i[0][d],f=a,l[d]>=h));)m.lastIndex===i.index&&m.lastIndex++;return f===o[d]?!s&&m.test("")||l.push(""):l.push(o.slice(f)),l[d]>h?l.slice(0,h):l}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):m.call(String(o),n,r)},function(e,t){var r=u(m,e,this,t,m!==n);if(r.done)return r.value;var c=o(e),p=String(this),d=i(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),_=new d(h?c:"^(?:"+c.source+")",y),g=void 0===t?4294967295:t>>>0;if(0===g)return[];if(0===p.length)return null===l(_,p)?[p]:[];for(var x=0,b=0,S=[];b<p.length;){_.lastIndex=h?b:0;var w,I=l(_,h?p:p.slice(b));if(null===I||(w=f(s(_.lastIndex+(h?0:b)),p.length))===x)b=a(p,b,v);else{if(S.push(p.slice(x,b)),S.length===g)return S;for(var E=1;E<=I.length-1;E++)if(S.push(I[E]),S.length===g)return S;b=x=w}}return S.push(p.slice(x)),S}]}))},function(e,t,n){var r=n(4),o=n(19),i=n(23)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(3),o=n(7),i=n(23)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(64)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(13),o=n(20);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(52),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n(68);var r=n(16),o=n(10),i=n(6),a=n(20),s=n(23),l=n(50),c=s("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),d=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!d||!h||"replace"===e&&!u||"split"===e&&!f){var m=/./[p],v=n(a,p,""[e],(function(e,t,n,r,o){return t.exec===l?d&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=v[0],_=v[1];r(String.prototype,e,y),o(RegExp.prototype,p,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}}},function(e,t,n){"use strict";var r=n(50);n(28)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})}]);
//# sourceMappingURL=model-band.legacy.js.map